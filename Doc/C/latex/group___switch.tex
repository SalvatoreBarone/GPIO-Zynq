\hypertarget{group___switch}{}\section{Switch}
\label{group___switch}\index{Switch@{Switch}}


supporto per gestione degli switch su board Digilent Zybo  


Diagramma di collaborazione per Switch\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=201pt]{group___switch}
\end{center}
\end{figure}
\subsection*{Strutture dati}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t}
\begin{DoxyCompactList}\small\item\em Struttura opaca che astrae l\textquotesingle{}insieme degli switch presenti sulla board Digilent Zybo;. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group___switch_ga1c463f6e1e3a43f68109c176772ce5cc}{Zybo\+Switch}(i)~((uint32\+\_\+t)(1$<$$<$(i)))
\begin{DoxyCompactList}\small\item\em Metodo alternativo per la specifica di uno degli switch presenti sulla board Digilent Zybo. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Tipi enumerati (enum)}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{group___switch_ga2e0602a824354f25c395f938caba3703}{Zybo\+Switch\+\_\+mask\+\_\+t} \{ \hyperlink{group___switch_gga2e0602a824354f25c395f938caba3703a73ccea5ad8c919fe962e9a67a3733ee3}{Zybo\+Switch3} = 0x8U, 
\hyperlink{group___switch_gga2e0602a824354f25c395f938caba3703aac2f5ebb28eb3bd93fcdf8019b6a3e9e}{Zybo\+Switch2} = 0x4U, 
\hyperlink{group___switch_gga2e0602a824354f25c395f938caba3703a694a25c87b1ec597d2a6032bf5d34b0f}{Zybo\+Switch1} = 0x2U, 
\hyperlink{group___switch_gga2e0602a824354f25c395f938caba3703a84350e8b6e7a7e2cabf22fc7a1a5c651}{Zybo\+Switch0} = 0x1U
 \}\begin{DoxyCompactList}\small\item\em Maschere di selezione degli switch. \end{DoxyCompactList}
\item 
enum \hyperlink{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}{Zybo\+Switch\+\_\+status\+\_\+t} \{ \hyperlink{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aa1d686faf83e8606e68eec0b7e525a755}{Zybo\+Switch\+\_\+off}, 
\hyperlink{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aafba009508b8822de867af69034e3e4f8}{Zybo\+Switch\+\_\+on}
 \}\begin{DoxyCompactList}\small\item\em Status di attivo/inattivo degli switch. \end{DoxyCompactList}
\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{group___switch_ga59108e526347f01f584bf1d6308a126f}{Zybo\+Switch\+\_\+init} (\hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t} $\ast$switches, \hyperlink{structmy_g_p_i_o__t}{my\+G\+P\+I\+O\+\_\+t} $\ast$gpio, \hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask} Switch3\+\_\+pin, \hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask} Switch2\+\_\+pin, \hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask} Switch1\+\_\+pin, \hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask} Switch0\+\_\+pin)
\begin{DoxyCompactList}\small\item\em Inizializza un oggetto di tipo \hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t}. \end{DoxyCompactList}\item 
\hyperlink{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}{Zybo\+Switch\+\_\+status\+\_\+t} \hyperlink{group___switch_gafac8daf9a9a585f8f20ef2a6fa883a1f}{Zybo\+Switch\+\_\+get\+Status} (\hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t} $\ast$switches, \hyperlink{group___switch_ga2e0602a824354f25c395f938caba3703}{Zybo\+Switch\+\_\+mask\+\_\+t} mask)
\begin{DoxyCompactList}\small\item\em Permette la lettura dello stato degli switch presenti sulla board. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Descrizione dettagliata}
supporto per gestione degli switch su board Digilent Zybo 



\subsection{Documentazione delle definizioni}
\mbox{\Hypertarget{group___switch_ga1c463f6e1e3a43f68109c176772ce5cc}\label{group___switch_ga1c463f6e1e3a43f68109c176772ce5cc}} 
\index{Switch@{Switch}!Zybo\+Switch@{Zybo\+Switch}}
\index{Zybo\+Switch@{Zybo\+Switch}!Switch@{Switch}}
\subsubsection{\texorpdfstring{Zybo\+Switch}{ZyboSwitch}}
{\footnotesize\ttfamily \#define Zybo\+Switch(\begin{DoxyParamCaption}\item[{}]{i }\end{DoxyParamCaption})~((uint32\+\_\+t)(1$<$$<$(i)))}



Metodo alternativo per la specifica di uno degli switch presenti sulla board Digilent Zybo. 


\begin{DoxyParams}[1]{Parametri}
\mbox{\tt in}  & {\em i} & indice dello switch da selezionare, da 0 a 3 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
maschera di selezione dello switch i-\/esimo 
\end{DoxyReturn}


\subsection{Documentazione dei tipi enumerati}
\mbox{\Hypertarget{group___switch_ga2e0602a824354f25c395f938caba3703}\label{group___switch_ga2e0602a824354f25c395f938caba3703}} 
\index{Switch@{Switch}!Zybo\+Switch\+\_\+mask\+\_\+t@{Zybo\+Switch\+\_\+mask\+\_\+t}}
\index{Zybo\+Switch\+\_\+mask\+\_\+t@{Zybo\+Switch\+\_\+mask\+\_\+t}!Switch@{Switch}}
\subsubsection{\texorpdfstring{Zybo\+Switch\+\_\+mask\+\_\+t}{ZyboSwitch\_mask\_t}}
{\footnotesize\ttfamily enum \hyperlink{group___switch_ga2e0602a824354f25c395f938caba3703}{Zybo\+Switch\+\_\+mask\+\_\+t}}



Maschere di selezione degli switch. 

\begin{DoxyEnumFields}{Valori del tipo enumerato}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Zybo\+Switch3@{Zybo\+Switch3}!Switch@{Switch}}\index{Switch@{Switch}!Zybo\+Switch3@{Zybo\+Switch3}}}\mbox{\Hypertarget{group___switch_gga2e0602a824354f25c395f938caba3703a73ccea5ad8c919fe962e9a67a3733ee3}\label{group___switch_gga2e0602a824354f25c395f938caba3703a73ccea5ad8c919fe962e9a67a3733ee3}} 
Zybo\+Switch3&Zybo\+Switch3, seleziona lo switch 3 sulla board Digilent Zybo;. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Zybo\+Switch2@{Zybo\+Switch2}!Switch@{Switch}}\index{Switch@{Switch}!Zybo\+Switch2@{Zybo\+Switch2}}}\mbox{\Hypertarget{group___switch_gga2e0602a824354f25c395f938caba3703aac2f5ebb28eb3bd93fcdf8019b6a3e9e}\label{group___switch_gga2e0602a824354f25c395f938caba3703aac2f5ebb28eb3bd93fcdf8019b6a3e9e}} 
Zybo\+Switch2&Zybo\+Switch2, seleziona lo switch 2 sulla board Digilent Zybo;. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Zybo\+Switch1@{Zybo\+Switch1}!Switch@{Switch}}\index{Switch@{Switch}!Zybo\+Switch1@{Zybo\+Switch1}}}\mbox{\Hypertarget{group___switch_gga2e0602a824354f25c395f938caba3703a694a25c87b1ec597d2a6032bf5d34b0f}\label{group___switch_gga2e0602a824354f25c395f938caba3703a694a25c87b1ec597d2a6032bf5d34b0f}} 
Zybo\+Switch1&Zybo\+Switch1, seleziona lo switch 1 sulla board Digilent Zybo;. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Zybo\+Switch0@{Zybo\+Switch0}!Switch@{Switch}}\index{Switch@{Switch}!Zybo\+Switch0@{Zybo\+Switch0}}}\mbox{\Hypertarget{group___switch_gga2e0602a824354f25c395f938caba3703a84350e8b6e7a7e2cabf22fc7a1a5c651}\label{group___switch_gga2e0602a824354f25c395f938caba3703a84350e8b6e7a7e2cabf22fc7a1a5c651}} 
Zybo\+Switch0&Zybo\+Switch0, seleziona lo switch 0 sulla board Digilent Zybo;. \\
\hline

\end{DoxyEnumFields}
\mbox{\Hypertarget{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}\label{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}} 
\index{Switch@{Switch}!Zybo\+Switch\+\_\+status\+\_\+t@{Zybo\+Switch\+\_\+status\+\_\+t}}
\index{Zybo\+Switch\+\_\+status\+\_\+t@{Zybo\+Switch\+\_\+status\+\_\+t}!Switch@{Switch}}
\subsubsection{\texorpdfstring{Zybo\+Switch\+\_\+status\+\_\+t}{ZyboSwitch\_status\_t}}
{\footnotesize\ttfamily enum \hyperlink{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}{Zybo\+Switch\+\_\+status\+\_\+t}}



Status di attivo/inattivo degli switch. 

\begin{DoxyEnumFields}{Valori del tipo enumerato}
\raisebox{\heightof{T}}[0pt][0pt]{\index{Zybo\+Switch\+\_\+off@{Zybo\+Switch\+\_\+off}!Switch@{Switch}}\index{Switch@{Switch}!Zybo\+Switch\+\_\+off@{Zybo\+Switch\+\_\+off}}}\mbox{\Hypertarget{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aa1d686faf83e8606e68eec0b7e525a755}\label{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aa1d686faf83e8606e68eec0b7e525a755}} 
Zybo\+Switch\+\_\+off&Zybo\+Switch\+\_\+off, corrisponde al valore logico \textquotesingle{}0\textquotesingle{}, indica che lo switch è inattivo;. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{Zybo\+Switch\+\_\+on@{Zybo\+Switch\+\_\+on}!Switch@{Switch}}\index{Switch@{Switch}!Zybo\+Switch\+\_\+on@{Zybo\+Switch\+\_\+on}}}\mbox{\Hypertarget{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aafba009508b8822de867af69034e3e4f8}\label{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aafba009508b8822de867af69034e3e4f8}} 
Zybo\+Switch\+\_\+on&Zybo\+Switch\+\_\+on, corrisponde al valore logico \textquotesingle{}1\textquotesingle{}, indica che lo switch è attivo;. \\
\hline

\end{DoxyEnumFields}


\subsection{Documentazione delle funzioni}
\mbox{\Hypertarget{group___switch_gafac8daf9a9a585f8f20ef2a6fa883a1f}\label{group___switch_gafac8daf9a9a585f8f20ef2a6fa883a1f}} 
\index{Switch@{Switch}!Zybo\+Switch\+\_\+get\+Status@{Zybo\+Switch\+\_\+get\+Status}}
\index{Zybo\+Switch\+\_\+get\+Status@{Zybo\+Switch\+\_\+get\+Status}!Switch@{Switch}}
\subsubsection{\texorpdfstring{Zybo\+Switch\+\_\+get\+Status()}{ZyboSwitch\_getStatus()}}
{\footnotesize\ttfamily \hyperlink{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}{Zybo\+Switch\+\_\+status\+\_\+t} Zybo\+Switch\+\_\+get\+Status (\begin{DoxyParamCaption}\item[{\hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t} $\ast$}]{switches,  }\item[{\hyperlink{group___switch_ga2e0602a824354f25c395f938caba3703}{Zybo\+Switch\+\_\+mask\+\_\+t}}]{mask }\end{DoxyParamCaption})}



Permette la lettura dello stato degli switch presenti sulla board. 


\begin{DoxyParams}[1]{Parametri}
\mbox{\tt in}  & {\em switches} & puntatore a struttura \hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t}, che astrae l\textquotesingle{}insieme degli switch presenti sulla board Digilent Zybo; \\
\hline
\mbox{\tt in}  & {\em mask} & maschera di selezione degli switch, quelli non selezionati non vengono tenuti in considerazione\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
status status degli switch 
\end{DoxyReturn}

\begin{DoxyRetVals}{Valori di ritorno}
{\em Zybo\+Switch\+\_\+on} & se uno degli switch selezionati è attivo; \\
\hline
{\em Zybo\+Switch\+\_\+off} & altrimenti\\
\hline
\end{DoxyRetVals}

\begin{DoxyCode}
\hyperlink{group___switch_ga4ba6b49b2f47ebb464aefcea7e23e04a}{ZyboSwitch\_status\_t} switch\_status = \hyperlink{group___switch_gafac8daf9a9a585f8f20ef2a6fa883a1f}{ZyboSwitch\_getStatus}(&switches, 
      \hyperlink{group___switch_gga2e0602a824354f25c395f938caba3703a73ccea5ad8c919fe962e9a67a3733ee3}{ZyboSwitch3});           \textcolor{comment}{// leggo lo stato dello switch 3}
\hyperlink{group___led_ga3dcb274f22e577705c49944b8d1f4b12}{ZyboLed\_status\_t} led\_status = (switch\_status == \hyperlink{group___switch_gga4ba6b49b2f47ebb464aefcea7e23e04aafba009508b8822de867af69034e3e4f8}{ZyboSwitch\_on} ? 
      \hyperlink{group___led_gga3dcb274f22e577705c49944b8d1f4b12aafcf0ae16a6edec807c06bb0a99f7e8b}{ZyboLed\_on} : \hyperlink{group___led_gga3dcb274f22e577705c49944b8d1f4b12a9679f1c302afdb51915a2331b4ec92f3}{ZyboLed\_off});  \textcolor{comment}{// se lo switch 3 è attivo accendo il led 3}
\hyperlink{group___led_gacf5c2b0328c4bdf2d796397fc4510c69}{ZyboLed\_setStatus}(&leds, \hyperlink{group___led_ggad11701cccac394f7e1f90de8f85695f3adc5edc2adfd899da9f149cb61364b141}{ZyboLed3}, led\_status);                                   
                \textcolor{comment}{// accendo/spengo led 3}
\end{DoxyCode}


\begin{DoxyWarning}{Avvertimento}
Usa la macro assert per verificare che\+:
\begin{DoxyItemize}
\item switches non sia un puntatore nullo;
\item switches-\/$>$gpio non sia un puntatore nullo 
\end{DoxyItemize}
\end{DoxyWarning}
\mbox{\Hypertarget{group___switch_ga59108e526347f01f584bf1d6308a126f}\label{group___switch_ga59108e526347f01f584bf1d6308a126f}} 
\index{Switch@{Switch}!Zybo\+Switch\+\_\+init@{Zybo\+Switch\+\_\+init}}
\index{Zybo\+Switch\+\_\+init@{Zybo\+Switch\+\_\+init}!Switch@{Switch}}
\subsubsection{\texorpdfstring{Zybo\+Switch\+\_\+init()}{ZyboSwitch\_init()}}
{\footnotesize\ttfamily void Zybo\+Switch\+\_\+init (\begin{DoxyParamCaption}\item[{\hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t} $\ast$}]{switches,  }\item[{\hyperlink{structmy_g_p_i_o__t}{my\+G\+P\+I\+O\+\_\+t} $\ast$}]{gpio,  }\item[{\hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask}}]{Switch3\+\_\+pin,  }\item[{\hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask}}]{Switch2\+\_\+pin,  }\item[{\hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask}}]{Switch1\+\_\+pin,  }\item[{\hyperlink{group__bare-metal_ga402a0d20afc0cb7c25554b8b023f4253}{my\+G\+P\+I\+O\+\_\+mask}}]{Switch0\+\_\+pin }\end{DoxyParamCaption})}



Inizializza un oggetto di tipo \hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t}. 


\begin{DoxyParams}[1]{Parametri}
\mbox{\tt in,out}  & {\em switches} & puntatore a struttura \hyperlink{struct_zybo_switch__t}{Zybo\+Switch\+\_\+t}, che astrae l\textquotesingle{}insieme degli switch presenti sulla board Digilent Zybo; \\
\hline
\mbox{\tt in}  & {\em gpio} & puntatore a struttura \hyperlink{structmy_g_p_i_o__t}{my\+G\+P\+I\+O\+\_\+t}, che astrae un device my\+G\+P\+IO; non viene inizializzato dalla funziona, sarà necessario inizializzarlo preventivamente; si faccia riferimento all\textquotesingle{}esempio riportato di seguito \\
\hline
\mbox{\tt in}  & {\em Switch3\+\_\+pin} & pin del device my\+G\+P\+IO a cui è associato lo switch 3 della board Digilent Zybo; \\
\hline
\mbox{\tt in}  & {\em Switch2\+\_\+pin} & pin del device my\+G\+P\+IO a cui è associato lo switch 2 della board Digilent Zybo; \\
\hline
\mbox{\tt in}  & {\em Switch1\+\_\+pin} & pin del device my\+G\+P\+IO a cui è associato lo switch 1 della board Digilent Zybo; \\
\hline
\mbox{\tt in}  & {\em Switch0\+\_\+pin} & pin del device my\+G\+P\+IO a cui è associato lo switch 0 della board Digilent Zybo;\\
\hline
\end{DoxyParams}

\begin{DoxyCode}
\hyperlink{structmy_g_p_i_o__t}{myGPIO\_t} gpioSwitch;
GPIO\_init(&gpioSwitch, XPAR\_MYGPIO\_1\_S00\_AXI\_BASEADDR, 4, 0, 4, 8);
\hyperlink{struct_zybo_switch__t}{ZyboSwitch\_t} switches;
\hyperlink{group___switch_ga59108e526347f01f584bf1d6308a126f}{ZyboSwitch\_init}(&switches, &gpioSwitch, GPIO\_pin3, GPIO\_pin2, GPIO\_pin1, GPIO\_pin0);
\end{DoxyCode}


\begin{DoxyWarning}{Avvertimento}
Usa la macro assert per verificare che\+:
\begin{DoxyItemize}
\item switches non sia un puntatore nullo;
\item gpio non sia un puntatore nullo
\item Switch\+N\+\_\+pin siano tutti pin differenti 
\end{DoxyItemize}
\end{DoxyWarning}
