\hypertarget{my_g_p_i_o_k__t_8h}{\section{Riferimenti per il file Src/my\+G\+P\+I\+O/linux-\/driver/my\+G\+P\+I\+O\+K\+\_\+t.h}
\label{my_g_p_i_o_k__t_8h}\index{Src/my\+G\+P\+I\+O/linux-\/driver/my\+G\+P\+I\+O\+K\+\_\+t.\+h@{Src/my\+G\+P\+I\+O/linux-\/driver/my\+G\+P\+I\+O\+K\+\_\+t.\+h}}
}
{\ttfamily \#include $<$linux/device.\+h$>$}\\*
{\ttfamily \#include $<$linux/cdev.\+h$>$}\\*
{\ttfamily \#include $<$linux/fs.\+h$>$}\\*
{\ttfamily \#include $<$linux/interrupt.\+h$>$}\\*
{\ttfamily \#include $<$linux/irqreturn.\+h$>$}\\*
{\ttfamily \#include $<$linux/of\+\_\+device.\+h$>$}\\*
{\ttfamily \#include $<$linux/of\+\_\+platform.\+h$>$}\\*
{\ttfamily \#include $<$linux/of\+\_\+address.\+h$>$}\\*
{\ttfamily \#include $<$linux/of\+\_\+irq.\+h$>$}\\*
{\ttfamily \#include $<$linux/wait.\+h$>$}\\*
{\ttfamily \#include $<$linux/spinlock.\+h$>$}\\*
{\ttfamily \#include $<$asm/uaccess.\+h$>$}\\*
{\ttfamily \#include $<$asm/io.\+h$>$}\\*
Grafo delle dipendenze di inclusione per my\+G\+P\+I\+O\+K\+\_\+t.\+h\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{my_g_p_i_o_k__t_8h__incl}
\end{center}
\end{figure}
Questo grafo mostra quali altri file includono direttamente o indirettamente questo file\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{my_g_p_i_o_k__t_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{Strutture dati}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t}
\begin{DoxyCompactList}\small\item\em Stuttura per l'astrazione di un device my\+G\+P\+I\+O in kernel-\/mode. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{group__my_g_p_i_o_k__t_ga0da2526ca3cd1a94ebcecf96778ea2e5}{my\+G\+P\+I\+O\+K\+\_\+\+G\+I\+E\+S\+\_\+\+O\+F\+F\+S\+E\+T}~0x0\+C\+U
\begin{DoxyCompactList}\small\item\em Offset, rispetto all'indirizzo base, del registro \char`\"{}\+G\+I\+E\+S\char`\"{}. \end{DoxyCompactList}\item 
\#define \hyperlink{group__my_g_p_i_o_k__t_ga2ed7646e6f910f5803477e51b7fe26e3}{my\+G\+P\+I\+O\+K\+\_\+\+P\+I\+E\+\_\+\+O\+F\+F\+S\+E\+T}~0x10\+U
\begin{DoxyCompactList}\small\item\em Offset, rispetto all'indirizzo base, del registro \char`\"{}\+P\+I\+E\char`\"{}. \end{DoxyCompactList}\item 
\#define \hyperlink{group__my_g_p_i_o_k__t_ga37ee502d1ba364dfde9261c4f7a537a6}{my\+G\+P\+I\+O\+K\+\_\+\+I\+R\+Q\+\_\+\+O\+F\+F\+S\+E\+T}~0x14\+U
\begin{DoxyCompactList}\small\item\em Offset, rispetto all'indirizzo base, del registro \char`\"{}\+I\+R\+Q\char`\"{}. \end{DoxyCompactList}\item 
\#define \hyperlink{group__my_g_p_i_o_k__t_gac72408c288009c213c0231973b3fe761}{my\+G\+P\+I\+O\+K\+\_\+\+I\+A\+C\+K\+\_\+\+O\+F\+F\+S\+E\+T}~0x18\+U
\begin{DoxyCompactList}\small\item\em Offset, rispetto all'indirizzo base, del registro \char`\"{}\+I\+A\+C\+K\char`\"{}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{group__my_g_p_i_o_k__t_ga64afb2eff1f990814d792349842c522d}{my\+G\+P\+I\+O\+K\+\_\+\+Init} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device, struct module $\ast$owner, struct platform\+\_\+device $\ast$op, struct class $\ast$class, const char $\ast$driver\+\_\+name, const char $\ast$device\+\_\+name, uint32\+\_\+t serial, struct file\+\_\+operations $\ast$f\+\_\+ops, irq\+\_\+handler\+\_\+t irq\+\_\+handler, uint32\+\_\+t irq\+\_\+mask)
\begin{DoxyCompactList}\small\item\em Inizializza una struttura \hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} e configura il device corrispondente. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_ga24255b79dd8549aa655cf28c1f9a65d5}{my\+G\+P\+I\+O\+K\+\_\+\+Destroy} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Deinizializza un device, rimuovendo le strutture kernel allocate per il suo funzionamento. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_gad82c1051e6acb335b1b26ab0c459453b}{my\+G\+P\+I\+O\+K\+\_\+\+Set\+Can\+Read} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Set del flag \char`\"{}interrupt occurred\char`\"{} (can\+Read) \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_ga6dc0ec06b388522ffc524e5fd14d8b72}{my\+G\+P\+I\+O\+K\+\_\+\+Reset\+Can\+Read} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Reset del flag \char`\"{}interrupt occurred\char`\"{} (can\+Read) \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_gaf1b6f35c097c46361d675a42f122828e}{my\+G\+P\+I\+O\+K\+\_\+\+Test\+Can\+Read\+And\+Sleep} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Testa la condizione \char`\"{}interrupt occurred\char`\"{}, mettendo in attesa il processo, se necessario. \end{DoxyCompactList}\item 
unsigned \hyperlink{group__my_g_p_i_o_k__t_gae428f50a6da69e3cf89348b8ba9401b1}{my\+G\+P\+I\+O\+K\+\_\+\+Get\+Poll\+Mask} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device, struct file $\ast$file\+\_\+ptr, struct poll\+\_\+table\+\_\+struct $\ast$wait)
\begin{DoxyCompactList}\small\item\em Verifica che le operazioni di lettura/scrittura risultino non-\/bloccanti. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_ga5a7df448de9de94620ce1baf7ec388c9}{my\+G\+P\+I\+O\+K\+\_\+\+Increment\+Total} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Incrementa il contatore degli interrupt per un particolare device. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_gae182aa943af08c102a05795ae8526192}{my\+G\+P\+I\+O\+K\+\_\+\+Wake\+Up} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Risveglia i process in attesa sulle code di read e poll. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{group__my_g_p_i_o_k__t_ga565ffd4946b330b29e1166dfc9851b11}{my\+G\+P\+I\+O\+K\+\_\+\+Get\+Device\+Address} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$device)
\begin{DoxyCompactList}\small\item\em Restituisce l'indirizzo virtuale di memoria cui e' mappato un device. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_ga00a24f28b49c71aaa91f66be71a3895b}{my\+G\+P\+I\+O\+K\+\_\+\+Global\+Interrupt\+Enable} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device)
\begin{DoxyCompactList}\small\item\em Abilita gli interrupt globali;. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_gace0d81f5ec65978f22118a3f1fc8b222}{my\+G\+P\+I\+O\+K\+\_\+\+Global\+Interrupt\+Disable} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device)
\begin{DoxyCompactList}\small\item\em Disabilita gli interrupt globali;. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_ga179c20f5f62e8ce1593cbedff2f00533}{my\+G\+P\+I\+O\+K\+\_\+\+Pin\+Interrupt\+Enable} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device, unsigned mask)
\begin{DoxyCompactList}\small\item\em Abilita gli interrupt per i singoli pin del device. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_gabfd91641f98a4725aec779c8834ca92d}{my\+G\+P\+I\+O\+K\+\_\+\+Pin\+Interrupt\+Disable} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device, unsigned mask)
\begin{DoxyCompactList}\small\item\em Disabilita gli interrupt per i singoli pin del device. \end{DoxyCompactList}\item 
unsigned \hyperlink{group__my_g_p_i_o_k__t_ga1b3ad44b9198f537493180d748de0b6c}{my\+G\+P\+I\+O\+K\+\_\+\+Pending\+Pin\+Interrupt} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device)
\begin{DoxyCompactList}\small\item\em Consente di ottenere una maschera che indichi quali interrupt non siano stati ancora serviti;. \end{DoxyCompactList}\item 
void \hyperlink{group__my_g_p_i_o_k__t_ga8eaf8f1b21aa6f772c395faf457144f9}{my\+G\+P\+I\+O\+K\+\_\+\+Pin\+Interrupt\+Ack} (\hyperlink{structmy_g_p_i_o_k__t}{my\+G\+P\+I\+O\+K\+\_\+t} $\ast$my\+G\+P\+I\+O\+K\+\_\+device, unsigned mask)
\begin{DoxyCompactList}\small\item\em Invia al device notifica di servizio di un interrupt;. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Descrizione dettagliata}
\begin{DoxyAuthor}{Autore}
Salvatore Barone \href{mailto:salvator.barone@gmail.com}{\tt salvator.\+barone@gmail.\+com} 
\end{DoxyAuthor}
\begin{DoxyDate}{Data}
24 06 2017
\end{DoxyDate}
\begin{DoxyCopyright}{Copyright}
Copyright 2017 Salvatore Barone \href{mailto:salvator.barone@gmail.com}{\tt salvator.\+barone@gmail.\+com}
\end{DoxyCopyright}
This file is part of Zynq7000\+Driver\+Pack

Zynq7000\+Driver\+Pack is free software; you can redistribute it and/or modify it under the terms of the G\+N\+U General Public License as published by the Free Software Foundation; either version 3 of the License, or any later version.

Zynq7000\+Driver\+Pack is distributed in the hope that it will be useful, but W\+I\+T\+H\+O\+U\+T A\+N\+Y W\+A\+R\+R\+A\+N\+T\+Y; without even the implied warranty of M\+E\+R\+C\+H\+A\+N\+T\+A\+B\+I\+L\+I\+T\+Y or F\+I\+T\+N\+E\+S\+S F\+O\+R A P\+A\+R\+T\+I\+C\+U\+L\+A\+R P\+U\+R\+P\+O\+S\+E. See the G\+N\+U General Public License for more details.

You should have received a copy of the G\+N\+U General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, M\+A 02110-\/1301, U\+S\+A. 